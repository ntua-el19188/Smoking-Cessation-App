# Smoking Cessation App (Flutter + Python Chatbot)

A mobile app to help users quit smoking. Built with **Flutter** for the client and a **Python** chatbot backend.  
This repo contains the Flutter app code and (optionally) the backend code in a `backend/` folder.

---

## Table of Contents
- [Features](#features)
- [Tech Stack](#tech-stack)
- [Repo Structure](#repo-structure)
- [Prerequisites](#prerequisites)
- [Setup](#setup)
  - [1) Clone](#1-clone)
  - [2) Environment Variables](#2-environment-variables)
  - [3) Firebase Setup](#3-firebase-setup)
- [Run](#run)
  - [Run the Backend (Python)](#run-the-backend-python)
  - [Run the Flutter App](#run-the-flutter-app)
- [Config & Secrets](#config--secrets)
- [Assets & Large Files](#assets--large-files)
- [Troubleshooting](#troubleshooting)
- [Contributing](#contributing)
- [License](#license)

---

## Features
- Smoking-cessation guidance with daily tips and progress tracking.
- Chatbot assistant (LLM-powered) for motivation and Q&A.
- (Optional) Group chat, achievements, leaderboard, and mini-games (Snake, Pac-Man, Tic-Tac-Toe) to manage cravings.
- Firebase integration (Auth/Firestore/Storage/Analytics depending on your setup).

> _Note:_ Some features depend on your Firebase configuration and backend endpoints.

---

## Tech Stack
- **Client:** Flutter (Dart)
- **Backend (chatbot):** Python (e.g., FastAPI/Flask) — optional subfolder `backend/`
- **Cloud:** Firebase (Auth, Firestore/Realtime DB, Storage, Analytics)
- **LLM provider:** OpenAI (via backend)

---

## Repo Structure
.
├─ lib/ # Flutter app source
├─ assets/ # App assets (images, icons) — optional
├─ backend/ # Python chatbot backend (optional)
│ ├─ main.py # Example app entry (FastAPI/Flask) [adjust to your project]
│ ├─ requirements.txt
│ └─ README.md # Backend run instructions (optional)
├─ pubspec.yaml
├─ pubspec.lock
├─ LICENSE
├─ README.md
└─ .gitignore

yaml
Αντιγραφή κώδικα

If you don’t keep the backend here, remove the `backend/` references and point to its repo in this README.

---

## Prerequisites
- **Flutter**: Install from https://flutter.dev/ and run `flutter doctor`.
- **Dart**: Bundled with Flutter.
- **Firebase CLI**: `npm i -g firebase-tools` (optional, for emulators/deploys).
- **FlutterFire CLI**: `dart pub global activate flutterfire_cli` (if you manage Firebase configs via CLI).
- **Python 3.10+** (for backend), `pip`, and optionally `virtualenv`.

---

## Setup

### 1) Clone
```bash
git clone https://github.com/ntua-el19188/Smoking-Cessation-App.git
cd Smoking-Cessation-App
```
###2) Environment Variables
Create a .env file for the backend (do not commit it). Example (backend/.env.example):

dotenv
Αντιγραφή κώδικα
# OpenAI (rotate your keys if previously exposed)
OPENAI_API_KEY=

# If using a Google service account for server-side Firebase/Admin SDK:
# Prefer Workload Identity for production; otherwise point to a local, non-committed JSON file:
GOOGLE_APPLICATION_CREDENTIALS=/absolute/path/to/service-account.json

# Optional: vector DB / memory paths
CHROMA_DB_DIR=./data/chroma

# Backend server settings
PORT=8000
HOST=0.0.0.0
Copy this to .env, fill in real values, but never commit .env.

###3) Firebase Setup
Keep lib/firebase_options.dart in the repo (public config generated by FlutterFire).

Do NOT commit:

android/app/google-services.json

ios/Runner/GoogleService-Info.plist

Place them locally:

Android → android/app/google-services.json

iOS → ios/Runner/GoogleService-Info.plist

Make sure your Firebase Security Rules are set correctly for your data model.

Run
Run the Backend (Python)
Skip this if you host the backend elsewhere and the app calls a public URL.

bash
Αντιγραφή κώδικα
cd backend

# Create & activate a virtual environment (Windows PowerShell)
python -m venv .venv
. .\.venv\Scripts\Activate.ps1

# macOS/Linux:
# python3 -m venv .venv
# source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Export env vars (Windows PowerShell)
$env:OPENAI_API_KEY="your-key"
$env:GOOGLE_APPLICATION_CREDENTIALS="C:\path\to\service-account.json"
$env:PORT="8000"

# macOS/Linux:
# export OPENAI_API_KEY="your-key"
# export GOOGLE_APPLICATION_CREDENTIALS="/absolute/path/service-account.json"
# export PORT=8000

# Run the server (example with FastAPI/Uvicorn)
uvicorn main:app --host 0.0.0.0 --port $env:PORT
# or on macOS/Linux:
# uvicorn main:app --host 0.0.0.0 --port $PORT
Adjust main:app to match your backend entrypoint (e.g., app.py, server.py, or flask_app:app).

Run the Flutter App
From the repo root:

bash
Αντιγραφή κώδικα
flutter pub get

# If using code generation, run it (optional):
# dart run build_runner build --delete-conflicting-outputs

# Run on a connected device or emulator
flutter run
If your app calls the local backend, set the base URL accordingly (e.g., http://10.0.2.2:8000 for Android emulator, http://localhost:8000 for iOS simulator/web).

Config & Secrets
Commit (safe / required for build):

lib/firebase_options.dart ✅

Do NOT commit:

android/app/google-services.json ❌

ios/Runner/GoogleService-Info.plist ❌

Service account JSON keys ❌

.env files ❌

Local DB caches (e.g., *.sqlite3 in memory folders) ❌

If you previously pushed secrets, rotate them (recreate OpenAI/Google keys) before continuing.

Assets & Large Files
Keep only necessary app assets in assets/.

Don’t commit large datasets or runtime caches (SQLite, vector DB indexes).

If you must version big binaries, consider Git LFS, but generally avoid storing runtime DBs in the repo.

Troubleshooting
App can’t connect to Firebase

Check that firebase_options.dart exists and matches your Firebase project.

Confirm google-services.json / GoogleService-Info.plist are placed locally (not committed).

App can’t reach the backend

Verify the base URL (Android emulator uses 10.0.2.2 instead of localhost).

Ensure the backend is running and CORS is configured if you build for web.

Push blocked by GitHub (secrets / large files)

Remove the offending files, commit .gitignore, and push again.

If secrets entered history, rotate keys and rewrite history (e.g., git filter-repo).

Contributing
Create a feature branch: git checkout -b feature/your-feature

Commit changes: git commit -m "Add your feature"

Push: git push -u origin feature/your-feature

Open a Pull Request

License
This project is licensed under the MIT License. See LICENSE for details.

makefile
Αντιγραφή κώδικα
::contentReference[oaicite:0]{index=0}
